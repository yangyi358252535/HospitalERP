

大连理工大学城市学院

本科生毕业设计（论文）












学    院：计算机工程学院  
专    业：软件工程        
学    生：李科            
指导教师：                
完成日期：2014年 月     日











大连理工大学城市学院本科生毕业设计（论文）

基于javaweb的餐饮店管理系统的设计与实现










总计  毕业设计（论文） 00   页
     表格             00    表
     插图             00    幅






 
摘 要
随着人们生活水平的提高，越来越多的人到餐馆里就餐，使得餐饮业有了更多的发展机会，但同时餐饮业的竞争对手也在不断地加剧。要想在竞争激烈的市场上立于不败之地，好的管理是必不可少的。加强管理不能只重视人为因素，技术因素也是非常重要的，好的管理方法如果引入了先进的技术手段，即引入计算机技术会使管理走上一个新的台阶。目前，餐饮业发展迅速，各类管理系统也应用而生。有针对大饭店、大酒店的酒店管理系统，这类管理系统的开发已经非常成熟。然而，为数众多的小的餐饮企业却没有一个合适的管理系统，因此开发此类管理系统是十分必要的。 
以此为背景，我尝试对餐饮店系统研究领域内主要观点和开发技术方案进行归纳分析。本文首先从餐饮店管理基本概述展开，然后对餐饮店系统的开发工具和技术、结构设计、功能设计以及安全性分析进行了进一步的讨论，最后扼要的分析总结，力求为人们进一步研究开发餐饮店管理系统提供一些有益的视角和参考方案。餐饮企业在向规模化、规范化前进的道路上需要好的软件来支持，而软件公司也将根据行业特点实现自己产品的进步。他们紧密相连，市场优胜劣汰是不二的法则，通过先进的软件管理工具必将实现餐饮和软件IT行业的双赢。餐饮店管理系统是为了实现餐饮店自动化管理而设计的，它完全取代了原来餐饮管理一直使用的人工处理的工作方式，并且避免了由于管理人员的工作疏忽以及管理质量问题所造成的各种错误，为及时、准确、高效的完成餐饮店管理工作提供了强有力的工具和管理手段。
关键词：餐饮；规模化；软件；自动化；竞争


Abstract
With the improvement of people's living standards , more and more people into the restaurant to eat , making food and beverage industry have more opportunities, but the restaurant industry competitors are constantly increasing. To succeed in a highly competitive market , good management is essential. To strengthen the management can not only pay attention to human factors , technical factors are also very important, if good management practices introduced advanced techniques that will manage the introduction of computer technology onto a new level. Currently, the restaurant industry has developed rapidly , various management systems and health applications . There are hotel management system for large hotels, Grand Hotel , the development of such management system has been very mature. However , a large number of small catering business but do not have a proper management system, so the development of such a management system is essential.
Against this background , I try to shop for the food and beverage systems research and development of technology solutions main ideas inductive analysis . Firstly, a basic overview of the management to start from the food and beverage outlets, and then on the development of tools and technologies catering shop systems, structural design, functional design and safety analysis were further discussed , and finally a brief summary of the analysis , and strive to further research and development for the people dining outlets management system provides some useful perspectives and reference solutions . Catering business on the road to large-scale , standardized forward to support the need for good software , and software companies will achieve progress in their products based on industry characteristics . They are closely linked, market survival of the fittest is the best rule , through advanced software management tools will surely achieve win- catering and software IT industry. Food shop management system is to achieve restaurants automated management and design, it is completely replaced the original manual processing work has been used in food and beverage management , and avoid a variety of errors due to negligence management and the management of quality problems caused by for timely, accurate and efficient completion of restaurants provide a powerful management tools and management tools.
Keywords: Food; scale; software; automation; competition



















目录
第1章 绪论	1
1.1 经济可行性分析	1
1.2 技术可行性分析	1
1.3 法律可行性分析	2
1.4 管理可行性分析	2
第2章 需求分析	3
2.1 引言	3
2.2 任务概述	5
2.3 需求规定	6
2.4 系统性能需求	7
第3章 概要设计	14
3.1 总体设计	14
3.2 接口设计	16
3.3 数据库结构设计	17
3.4 出错结构设计	27
第4章 详细设计	30
4.1 软件结构	30
4.2界面设计	30
4.3程序设计说明	30
第5章 编码实现	44
5.1 项目包名约定	44
5.2 重要功能配置文件一览以及说明	44
第6章 测试计划及实施	46
6.1 测试目的	46
6.2 测试结果	46
6.3 测试总结	51
第7章 总结与展望	52
致 谢	53
参考文献	54



 
第1章 绪论
可行性分析是需求分析的基础上进行的，对系统的开发从技术、经济、营运等方面进行分析，并得出系统的开发工作可行、不可行、需要修改、追加投资、暂缓开发、分步实施等方案和结论，最后完成可行性分析。可行性分析一般可定义为:可行性分析是在建设的前期对工程项目的一种考察和鉴定，对拟议中的项目进行全面与综合的技术、经济能力的调查，判断它是否可行。可行性分析阶段的主要工作包括以下几个方面。
1.1 经济可行性分析
经济可行性分析主要是对开发新系统所投入的资金与系统投入使用后所带来的经济效益进行比较，确认新系统是否会给企业带来一定的经济效益。开发此餐饮管理系统，不仅能提高企业的管理水平给管理者提供一个企业运作的信息平台还能提升企业的形象及增强竞争力。使用餐饮管理系统能将餐饮企业业务管理和人员管理信息化，可随时掌握酒店里餐桌的使用状况，客人点单，挂账等情况，并能尽可能的降低使用者的劳动强度，同时提高工作质量和效率。用最少的成本获得最好的经济效益，增强了餐饮企业的市场竞争力。
1.2 技术可行性分析
该系统采用MVC模式MVC （Model-View-Controller），即把一个应用的输入、处理、输出流程按照Model、View、Controller的方式进行分离，这样一个应用被分成三个层——模型（持久）层、视图层、控制层。系统是由网页实现的。而且后期随着系统业务的添加会逐步对系统的功能进行维护与更新，所以本系统使用JavaEE标准进行设计，视图层用JSP、JQuery实现，JQuery动态加载数据，界面用户体验极好，很人性化。控制层采用Struts2框架（基于annotation零配置）于spring无缝整合。持久层用hibernate3实现（基于annotation），最后用Spring将他们整合在一起。该系统的权限管理使用springsecurity3进行架构，服务启动时对登录的用户进行权限加载，系统的安全性很高。数据库使用Qracle11数据库，服务器是TOMCAT 7.0.21支持热部署。通过MVC模式编写的，具有极其良好的可扩展性。它可以轻松实现以下功能：①实现一个模型的多个视图；②采用多个控制器；③当模型改变时，所有视图将自动刷新；④所有的控制器将相互独立工作。在大学的学习中，已经学过这几门语言。热爱计算机科学，有一种奋发向上刻苦钻研的精神，经过大学四年的学习，这些课程已熟练掌握，在实习公司也学到很多有用的知识，本系统是实习的过程中开发，遇到问题可以与同事一起研究，再加上导师的指导。因此在技术上能够适应本系统的开发。
1.3 法律可行性分析
该餐饮店管理系统的研究与开发都选用正版软件，将不会侵犯他人、集体和国家的利益，不会违反国家的政策和法律。软件由个人开发，不涉及到其他公司商业机密。对于该系统打印的各种收费单据也是符合国家法律规定的，不涉及违反法律的情况。
1.4 安全可行性分析
在系统运行后，就用户方而言，由于用户使用本系统时不会也不必关心系统内部的结构及实现方法，即对用户来说是透明的，所以本系统对用户而言是定位在界面友好、操作方便、功能齐全的原则上的，用户只需简单的用鼠标点击各页面上的链接或按钮就能执行相应的功能。就管理者而言，关心的是如何处理用户信息，只要把用户的信息放入服务器端的数据库或专门的数据库服务器，管理者就可运行相应的后台程序进行处理。




第2章 需求分析
2.1 引言
项目需求分析就是描述系统需求，通过定义系统中的关键域类来建立模型。分析的根本目的是在开发者和提出需求的人之间建立一种理解和沟通的机制，因此，餐饮店管理系统的需求分析也是开发人员和用户一起完成的。需求分析的第一步是描述餐饮店管理系统的功能，即定义用例，以此确定系统的功能需求。该系统主要从餐饮店的订餐方面来分析。
餐饮店管理系统的核心思想就是以顾客是上帝为核心，这就意味着餐饮店将把客人作为其运作的核心，提升客人满意程度，获得更大的利润。随着行业竞争的加剧和市场的快速膨胀，增长率的下降，利润的降低，消费行为的理性化是必然的发展趋势。各大餐饮店更多的将目光专注于如何提高服务质量，提高经营管理，而提高经营管理最重要的保证就是信息技术。
餐饮店管理系统也是一个餐饮店不可缺少的部分，它的内部无论对于客户还是员工来说都至关重要，所以一个系统应该能够为用户提供充足的快捷的信息和方便的查询方式，而且不应有时间和地域的限制。
2.2任务概述
随着科学技术的不断提高，计算机科学日渐成熟，其强大的功能已成为人们深刻认识，它已进入人类社会的各个领域并发挥着越来越重要的作用。作为计算机应用的部分，使用计算机对餐饮店的管理具有着手工管理所无法比拟的优点：
（1）客户和工作人员可以随时了解有关餐饮店的相关信息。
（2）减轻了工作人员的工作负担。
（3）查询、修改更加方便、快捷。
2.3需求规定
根据餐饮行业的特点和该企业的实际情况，该系统以餐饮业务为基础，突出前台管理，从专业角度出发，提供科学有效的管理模式。点菜方面采取图形界面加数据的方式，使用户能直观地管理数据信息，并能有效地管理每个开台的餐桌号所点的酒菜。点菜收银管理可实现点菜、结账、清台。营业分析可对客人点单情况、房台营业情况、酒菜销售情况、销售收入等进行分析。点菜收银、营业分析的有机结合，可为餐饮店经营方向提供依据，为餐饮店的发展提供重要保证。
根据该企业的具体情况，系统主要功能设计有三大部分，分别为系统信息管理、日常信息管理、财务信息管理。
1、系统信息管理：主要是对餐饮店的系统的信息的管理。包括菜单信息管理、员工信息管理、菜类别信息管理、餐桌信息管理。
2、日常信息管理：主要是对餐饮店前台进行管理。包括客户信息管理、餐桌使用信息管理、预定信息管理。
3、财务信息管理：主要是对餐饮店财务方面的管理。包括销售记录的查看以及分析。
2.3.1 系统信息管理需求分析
对菜单信息、员工信息、菜类别信息、餐桌信息的维护（增、删、改、查）
（1）菜单信息管理
菜查询：按照菜的编号查询、按照菜名称进行模糊查询、按照菜当前的使用状态进行查询；
编辑菜单信息：系统信息管理员会根据系统要求进行菜的编辑；
添加菜单信息：系统信息管理员会根据系统要求进行菜的添加；
（2）员工信息管理
该系统对员工的权限有严格的要求，可以根据相应的用户权限生成相应的菜单列表。
员工添加：对新员工的信息录入，并分配权限；
员工离职：员工离职后，保存原有的信息，并做逻辑删除；
员工信息修改：对相应员工的权限，和在职状态进行修改；
（3）菜类别信息管理
菜类别查询：按照菜类别的编号查询、按照菜类别名称进行模糊查询；
编辑菜类别信息：系统信息管理员会根据系统要求进行菜类别编辑；
添加菜单类别信息：系统信息管理员会根据系统要求进行菜类别添加；
（4）餐桌信息管理
餐桌查询：按照餐桌的编号查询、按照餐桌最多容纳人数进行查询；
编辑餐桌信息：系统信息管理员会根据系统要求进行餐桌信息编辑；
添加餐桌信息：系统信息管理员会根据系统要求进行餐桌信息添加；
2.3.2 日常信息管理需求分析
（1）顾客信息管理
对顾客的基本信息维护。
顾客查询：按照顾客的编号查询、按照顾客姓名查询；
	顾客信息的照会：对顾客的基本信息进行查看；
	顾客对应的预约的记录的查看：查看所有的预约的详细记录；
（2）餐桌使用管理
本功能是系统的中心功能之一。
餐桌查询：按餐桌的编号查询、按照餐桌的状态查询；
	点餐功能：选择对应的空闲状态的餐桌进行点餐，可以连续点餐；
	结账功能：选择对应的点餐状态的餐桌进行结账；
（3）预约信息管理
本功能是系统的中心功能之一。
预约信息查询：按订单的编号查询、按照餐桌的编号查询、按预约状态查询；
	预约信息查看：选择对应的预约信息并查看详细的点餐信息；
	预约信息删除：选择对应的预约信息并删除详细的点餐信息；
	预约信息点餐：选择对应的预约信息并进行点餐；
	添加预约信息：添加预约信息；
2.3.3 财务信息需求分析
（1）收入信息管理
点餐结账后自动生成收入信息；
收入信息查询：按账单的编号查询、按付款类型查询、按餐桌编号查询；
2.4系统性能需求
1系统的安全性
系统运行安全是决定软件质量的重要因素，虽然此餐饮店管理系统不需要接入Internet，但系统中涉及多方信息，有员工信息、订餐信息、菜品信息等等，如果有人蓄意破坏任意信息，都可能会导致系统的停用，会带来损失，因此仍然需要保证它的安全。为了保证系统的安全性，必须采取一定的安全措施，防止用户越权使用，防止工作数据被非法篡改、破坏和泄露等。既要考虑操作系统的安全性，还要考虑到餐饮系统本身的安全性。
2系统的合理性
在设计系统时要考虑实际的系统性能和硬件要求，不能忽视所处环境，也不能一味地追求新技术，要保证系统的合理性。
3系统的简单性、易用性
要考虑到不同层次服务人员及领导人员的计算机操作水平，一般而言，大部分服务员的计算机操作水平偏低，因此开发时要本着“简单易用”的原则，方便各层次人员的使用，使人员的培训降到最低。对于收银的服务员只需要简单且快捷地收银方式，既利于他们使用，也提高收银速度，同样对于领导人员，也需求简单、一目了然的界面，这样即使是没有操作过计算机的人来说，只需要进行简单的操作培训就可以达到熟练，使之能顺利地完成系统各种功能。
4系统的稳定性、可靠性
餐饮业从业人员来源广泛，分布性强，往往不具备专业的计算机知识，因此，餐饮系统必须稳定、可靠。另外，餐饮业营业时间与一般公司(或企业)区别很大:一般公司(或企业)正常上班时间，餐饮企业生意不多；而一般公司(或企业)休息时间却正是餐饮业营业高峰。餐饮系统必须兼顾到餐饮业这种间隙性的营业状况，必须具有高度的稳定性，保证在营业高峰时不出故障，即使出现故障，系统也必须具有快速恢复能力。
2.2.4运行环境
系统对运行的环境的要求：
(1)、硬件环境
服务器端
服务器端的最低配置是由建立站点所需的软件来决定的，在最低配置的情况下，服务器的往往不尽如人意，现在的硬件性能已经相当出色，而且价格也很便宜，因此通常应给服务器端配置高性能的硬件。
本网络系统服务器端的配置如下：
处理器：Intel core i3 或更高
内存：2GB
硬盘空间：500GB
光驱：CD-ROM 48X
用户端
因为客户端主要用于浏览和操作数据，所以对客房端的硬件要求不高，不过现在的电脑很高的性价比，因此需要的配置应该高于下面的配置： 
(1)、软件环境
服务器端
操作系统：Windows xp或者更高版本
网络协议：TCP/IP
web服务器：Tomcat 7.X及以上版本
数据库：MySQL
用户端
操作系统：Windows XP及以上
网络协议：TCP/IP
浏览器：Internet Explorer 9.0及以上，firefox













第3章 概要设计 
3.1 总体设计
采用本系统可以大大减少前台的服务人员的人数，直接和厨房联系加快上菜速度。由于采用计算机操作，可以大大提高操作速度。为了能够适应信息化发展的需要，提高餐饮店的工作效率，引入了该信息系统。
根据分析，酒店餐饮管理系统可分为以下三个模块：登录模块、订餐模块、后台管理模块。其系统模块图3.1所示。




3.2数据字典
数据字典是系统中各类数据描述的集合，是进行详细的数据的收集和数据分析秘获得的主要成果。数据字典在数据库设计中占有很重要的地位。
数据字典部分如下：
表3.1员工信息表
数据流
系统名：基于javaweb的餐饮店管理系统
条目名：员工信息
来源：员工管理	去处：员工信息查询，添加，修改
数据结构：
员工信息：{员工编号，姓名，描述，年龄，性别，联系电话，在职状态，入职时间，密码，用户角色}
简要说明：员工信息表主要是录入员工的信息，以及对员工的添加，删除，分工，修改，查询

表3.2餐桌信息表
数据流
系统名：基于javaweb的餐饮店管理系统
条目名：餐桌信息
来源：区域餐桌信息	去处：餐桌信息查询
数据结构：
餐桌信息：{ 编号，删除flag，最低消费，状态，容纳人数，描述信息}
简要说明：餐桌信息表主要是查看餐桌的当前状态

表3.3菜单信息表
数据流
系统名：基于javaweb的餐饮店管理系统
条目名：菜单信息
来源：菜单信息	去处：菜单信息添加，删除查询
数据结构：菜单信息表主要是查看菜单的信息
菜单信息：{ 编号，创建日期，描述，价格，餐桌编号，付款方式，状态}
简要说明：菜单信息，主要是日常信息管理员对菜单信息的添加与删除

表3.4菜单明细信息表
数据流
系统名：基于javaweb的餐饮店管理系统
条目名：菜单明细信息
来源：菜单明细信息	去处：菜单明细信息删除查询
数据结构：
订餐信息：{ 菜的编号，预定状态，菜单编号，点菜数量}
简要说明：菜单明细信息，主要是为菜单显示详细的点餐信息

表3.5预定信息表
数据流
系统名：基于javaweb的餐饮店管理系统
条目名：预定信息
来源：预定	去处：预定信息查询
数据结构：
预定信息：{ 编号，创建日期，删除状态，预定日期，预定状态，预定餐桌编号，顾客编号，操作员编号}
简要说明：预定信息，日常信息管理员能查看查看和操作预定信息

表3.6顾客信息表
数据流
系统名：基于javaweb的餐饮店管理系统
条目名：顾客信息
来源：顾客信息	去处：顾客信息查询
数据结构：
顾客信息：{ 编号，姓名，描述，注册日期，联系电话，删除状态}
简要说明：管理员可查看顾客所有的预定信息 

表3.7收入信息表
数据流
系统名：基于javaweb的餐饮店管理系统
条目名：收入信息
来源：收入信息	去处：收入信息查询
数据结构：
收入信息：{ 编号，餐桌编号，描述，收入日期，收入金额，付款方式，操作员编号，菜单编号}
简要说明：管理员可查看所有的收入信息 



表3.8菜类别信息表
数据流
系统名：基于javaweb的餐饮店管理系统
条目名：菜类别信息
来源：菜类别信息	去处：菜类别信息查询
数据结构：
菜类别信息：{编号，类别名称，描述}
简要说明：管理员可查看，添加，修改所有的菜类别信息
3.3 E-R图
概念设计是一种面向对象的数据模型，是按照用户的观点来对数据和信息建模。它描述了从用户角度看到的数据，它反映了用户的实现环境，这种方法用ER图描述现实世界中的实体，而不涉及这些实体在系统中的方法。概念设计中最著名的方法就是实体联系方法（ER方法），建立ER模型，用ER图表示概念结构，得到数据库的概念模型 [2]。
ER模型中包含“实体”，“联系”和“属性”。在本系统中，多对多的关系用（m-n）表示。本系统的主要的实体有餐桌，客人，菜类别，员工，账单，点餐单，点餐单明细等。实体ER图如下所示：






 
图3.1餐桌ER图

 
图3.2顾客ER图

 	图3.3菜类别ER图


 
图3.4员工ER图
 
图3.5收入ER图
 
图3.6菜单ER图




 
图3.7预定ER图




3.4总体E-R图
逻辑设计的目的是把概念设计好的概念模型转换成与选用的具体机器上的DBMS所支持的数据模型相符合的逻辑结构。这些模型在功能上、完整性和一致性约束及数据库的可扩展性等方面均应满足用户的各种要求[2]。因而，根据上节的实体ER图，总体ER图如下：

 
3.3 数据库结构设计
3.3.1 数据库表结构设计
1.顾客表（t_customer）
表1顾客
字段名称	字段类型	约束	含义
id	Int(11)	PK	主键
deleteflag	Int(1)	NULL	删除状态	
name	VARCHAR(50)	NULL	姓名
num	VARCHAR(20)	NOTNULL	编号
registerDate	VARCHAR(50)	NULL	加入时间
tel	VARCHAR(20)	NULL	联系电话

2.餐桌信息表(t_dinnertable)
表2餐桌信息
字段名称	字段类型	约束	含义
id	Int(11)	PK	主键
comment	VARCHAR(200)	NOTNULL	描述信息
deleteflag	Int(1)	NULL	删除状态	
minCost	Float	NULL	最低消费
num	VARCHAR(20)	NOTNULL	编号
personCount	Int(11)	NULL	入餐人数
State	Int(1)	NOTNULL	餐桌状态

3.菜信息表(t_food)
表3菜信息表
字段名称	字段类型	约束	含义
id	Int(11)	PK	主键
name	VARCHAR(250)	NULL	菜的名称
num	VARCHAR(20)	NOTNULL	编号
Price	Float	NULL	价格
foodType_id	Int(11)	NULL FK	菜类别编号
enable	Int(11)	NULL 	使用状态

4.菜类别信息表(t_foodtype )
表4菜类别
字段名称	字段类型	约束	含义
id	Int(11)	PK	主键
comment	VARCHAR(200)	NOTNULL	描述信息
name	VARCHAR(250)	NULL	类别名称
num	VARCHAR(20)	NOTNULL	编号

5.收入信息表(t_incomeinfo)
表5收入信息
字段名称	字段类型	约束	含义
id	Int(11)	PK	主键
comment	VARCHAR(200)	NOTNULL	描述信息
createDate	VARCHAR(20)	NULL	创建时间
num	VARCHAR(20)	NOTNULL	编号
dinnerTableNum 	VARCHAR(50)	NULL	餐桌编号
money	Float	NULL	收入金额
payStyle	VARCHAR(20)	NOT NULL	付款方式
usernum	NUMBER(10)	NULL	操作编号
menu_id	NUMBER(10)	NULL FK	菜单编号

6.菜单信息表（t_menu）
表6菜单信息
字段名称	字段类型	约束	含义
id	Int(11)	PK	主键
comment	VARCHAR(200)	NOTNULL	描述信息
createDate	VARCHAR(20)	NULL	创建时间
dinnerTableId	Int(11)	FK	餐桌号
num	VARCHAR(20)	NOTNULL	编号
payDate	VARCHAR(20)	NOT NULL	付款日期
payStyle	VARCHAR(20)	NOT NULL	付款方式
state 	Int(1)	NOT NULL	菜单状态

7.菜单明细表（t_menudetail）
表7菜单明细信息
字段名称	字段类型	约束	含义
id	Int(11)	PK	主键
count	Int(11)	NULL	菜数量
reserveflag	Int(1)	NULL	预定状态
food_id	Int(11)	FK	菜号
menu_id	Int(11)	FK	菜单号

8.预约信息表(t_reserve)
表8预约信息
字段名称	字段类型	约束	含义
id	Int(11)	PK	主键
createDate	VARCHAR(20)	NULL	创建时间
deleteflag	Int(1)	NULL	删除状态	
num	VARCHAR(20)	NOTNULL	编号
orderdate	VARCHAR(20)	NULL	预定时间
state 	Int(1)	NOT NULL	预约状态
tableNum	VARCHAR(20)	FK	餐桌编号
tcustomer_id	Int(11)	FK	顾客号
user_id	Int(11)	FK	操作员号

9.用户信息表(t_user)
表9用户信息
字段名称	字段类型	约束	含义
id	Int(11)	PK	主键
age	Int(3)	NOTNULL	年龄
authority	Int(11)	NULL	权限
dateEmpl  	VARCHAR(20)	NULL	雇佣日期
name	VARCHAR(20)	NOT NULL	姓名
num	VARCHAR(20)	NOTNULL	编号
password	VARCHAR(20)	NULL	密码
sex	VARCHAR(10)	NULL	性别
state	Int(1)	NOT NULL	使用状态
tel	VARCHAR(20)	NOT NULL	联系电话


3.4 出错结构设计
3.4.1 出错信息
用一览表的方式说明每种可能的出错或故障情况出现时，系统输出信息的形式、含义及处理方法。 
表19出错信息
错误类型	系统提示信息	处理方法
数据为空错误	输入的__数据不能为空！	为提示位置输入一个数据。
编号重复错误	__已存在请重新输入！	重新在指定位置输入一个不重复的编号。
日期格式错误	请按提示格式输入日期！	按照程序旁边的文本框或者帮助文件的要求，按正确的格式输入日期。
数据库连接问题	数据库连接错误，请重试！	由于数据库未安装或数据库连接部分程序未设计好，应重新安装数据库或检查数据库接口部分代码。
系统崩溃	无	由于程序代码设计bug或系统配置不足以支持软件的运行，应检查代码设计中的bug，以及电脑是否满足本软件硬件需求。

3.4.2 补救措施
说明故障出现后可能采取的变通措施，包括： 
a.后备技术说明准备采用的后备技术，当原始系统数据万一丢失时启用的副本的建立和启动的技术，例如周期性地把磁盘信息记录到磁带上去就是对于磁盘媒体的一种后备技术； 
b．降效技术说明准备采用的后备技术，使用另一个效率稍低的系统或方法来求得所需结果的某些部分，例如一个自动系统的降效技术可以是手工操作和数据的人工记录； 
c．恢复及再启动技术说明将使用的恢复再启动技术，使软件从故障点恢复执行或使软件从头开始重新运行的方法。

3.4.3 系统维护设计
为了系统维护的方便而在程序内部设计中作出的安排，包括在程序中专门安排用于系统的检查与维护的检测点和专用模块。 各个程序之间的对应关系，可采用如下的循环图的形式；


图12 循环图
第4章 详细设计
4.1 软件结构
系统流程图
 
图12 系统流程图



4.2界面设计
该系统的主界面以厂子型模式进行架构，主界面简洁方便。主要前台的技术主要是JQuery-UI 风格统一，主要为灰色调，符合管理系统的设计风格。
4.3程序设计说明
4.3.1 各模块功能
登录页面与主界面窗口功能：
	系统登录是用户进入到程序系统的门户，只有通过登录模块，才能对登录用户惊醒身份验证，只有系统的合法用户才可以进入系统的主界面。这也是设计管理系统软件之前必须考虑的问题。
基本信息功能：
	通过选择相关信息，可以查看与其有关的所有信息，并能添加新的信息、修改信息和删除不需要的信息。
用户管理功能：
用户管理是进销存管理系统的一个重要环节，这一模块的主要功能是管理员可以对已存在的权限为普通用户的用户进行查看，同时能够对其进行修改、删除操作；还具有对数据库清空功能；也可以添加一个新的用户信息。
业务管理功能：
业务管理模块主要包括：顾客预定履历、订餐、点餐
（1）顾客预定履历主要记录顾客的预约信息，可以详细的查看每一次预约的信息，包括预定的状态，之后可以根据状态进行顾客的信用评估；
（2）点餐功能，在选择了空闲的餐桌之后，将填写菜的信息，每一道菜，需要填写数量，并完成点餐，如果顾客想继续点餐，可以根据相应的餐桌进行继续点餐，简洁方便；
（3）预约功能，客户可以通过打电话到前台进行电话预约，预约需要填写客户信息，如果是常客，可以直接选择现有客户进行添加，操作简便。
业务查询功能：
业务查询菜单主要包括：基本信息（菜单信息，员工信息，菜类别信息，餐桌信息）、日常信息（顾客查询，餐桌使用查询，预约查询）、财务信息（收入单查询）。
基本信息查询：包括菜查询，员工查询，菜类别查询，餐桌查询。
选择菜单信息查询，进入菜单信息查询界面，从列表中选择要查询的菜编号，菜名，菜的使用状态，输入菜名称或关键字，选择查询结果排列显示方式，根据录入的信息从数据库中查询获得菜单信息并以表格形式显示。默认为统计所有菜单信息。
选择员工信息查询，进入员工信息查询界面，从列表中选择要查询的员工名称，输入员工名称的关键字信息检索，根据录入的信息从数据库中查询获得员工信息并以表格形式显示。默认为统计所有员工信息。
选择菜类别信息查询，进入菜类别信息查询界面，从列表中选择要查询的菜类别名称或编号，输入菜类别名称或编号的关键字信息检索，根据录入的信息从数据库中查询获得菜类别信息并以表格形式显示。默认为统计所有菜类别信息。
选择餐桌信息查询，进入餐桌信息查询界面，从列表中选择要查询的餐桌编号或容纳人数，输入餐桌编号或容纳人数进行检索，根据录入的信息从数据库中查询获得餐桌信息并以表格形式显示。默认为统计所有餐桌信息。
日常信息查询：包括顾客查询和餐桌使用查询，预约查询。 
选择顾客查询，进入顾客查询界面，选择顾客姓名或编号，根据录入的信息从数据库中查询获得查询的顾客信息并以表格形式显示。默认为统计所有顾客信息。
选择餐桌使用查询，进入餐桌使用查询界面，从列表中选择餐桌使用编号或餐桌使用状态等信息的关键字检索，根据录入的信息从数据库中查询获得查询的餐桌使用信息并以表格形式显示。默认为统计所有餐桌使用信息。
选择预约查询，进入预约查询界面，从列表中选择预约编号或餐桌编号，预约状态等信息的关键字检索，根据录入的信息从数据库中查询获得查询的预约信息并以表格形式显示。默认为统计所有预约信息。
财务信息查询：包括收入单查询。 
选择收入单查询查询，进入收入单查询查询界面，从列表中选择收入单编号或餐桌编号或付款类型检索，根据录入的信息从数据库中查询获得查询的收入单信息并以表格形式显示。默认为统计所有收入单信息。
4.3.2 输入项
基本信息输入项：
“药品情况”用于维护(增加、修改、删除、查询)药店药品的基本信息。
药品编码：用于实现商品资料维护中自动生成编码的功能。药品编号前自动加注”MDE”，后面的部分由系统根据该类别里现有编码的最大值加1自动生成，在数据库中一般采用字符串类型。此项不可以省略。	药品名：药品的中文全称，在数据库中一般采用字符串类型。此项不可以省略。
规格：药品的单位重量等信息，详见药品说明书，在数据库中一般采用字符串类型。
单位：药品生产企业的中文全称，详见药品说明书，在数据库中一般采用字符串类型。此项不可以省略。
保质期：本药品的保质期，方便后期库存管理。此项不可以省略。	类别：药品的分类，分类分为片剂，丸剂，汤剂，针剂，贴剂等。其编码情况应与药品编码中的对应。此项不可以省略。进货价：由供应处取得药品的价格，方便后期财务计算，在数据库中一般采用浮点类型。此项不可以省略。
零售价：零售时的药品的价格，方便后期财务计算，在数据库中一般采用浮点类型。此项不可以省略。
“客户情况” 用于登记客户的基本信息，内容包括客户编号、客户名称、地址、邮编、电话等。客户编号：一般以“kh”开头，后面的部分由系统根据现有编码的最大值加1自动生成，在数据库中一般采用字符串类型。
客户名称：客户的中文全称，在数据库中一般采用字符串类型。此项不可以省略。
地址：客户所在的地址，在数据库中一般采用字符串类型。此项不可以省略。
邮编：客户所在地的邮编，在数据库中一般采用字符串类型。此项可以省略。
电话：客户联系人的电话，一般采用固定电话并前加区号，在数据库中一般采用字符串类型。此项不可以省略。
“供货商情况” 用于登记药品供货商的基本信息，内容包括供货商号、供应商名称、地址、电话等。
供货商号：一般以“SU”开头，后面的部分由系统根据现有编码的最大值加1自动生成，在数据库中一般采用字符串类型。 
供应商名称：供应商的中文全称，在数据库中一般采用字符串类型。此项不可以省略。
地址：供应商所在的地址，在数据库中一般采用字符串类型。此项不可以省略。
邮编：供应商所在地的邮编，在数据库中一般采用字符串类型。此项可以省略。
电话：供应商联系人的电话，一般采用固定电话并前加区号，在数据库中一般采用字符串类型。此项不可以省略。
库房地址：供应商存储药品的库房的地址，在数据库中一般采用字符串类型。此项可以省略。
库房电话：库房的联系电话，一般采用固定电话并前加区号，在数据库中一般采用字符串类型。此项可以省略。	 
用户管理输入项：
用户名：字符串、汉字均承认，此项必须填写。
密码：数字和英文字母的组合，此项必须填写。
确认密码：数字与英文字母的组合，此项必须填写。
权限：在checkbox的列表中选择你添加的用户的权限，此项必须填写。
采购退货输入项：
退货单号：由“RB”+日期的八位+三位数字，其中这三位数字由系统自动生成，从“000”开始。
输入采购单号：以“PB”字符串为前缀，加上药品的入库日期，再以3为数字作后缀。此项必须填写。
采购单号：在下拉列表中选中要查询的采购单号，此项必须填写。
供应商：在下拉列表中选中相应的供应商名称，此项必须填写。
药品名称：在下拉列表中选中相应的药品名称，此项必须填写。
生产日期：在下拉列表中选中相应的药品生产日期，此项必须填写。
退货数量：数字，填入的数字不得大于库存中此药品的数量，此项必须填写。
品种数量：数字，系统根据操作员入库的药品信息自动生成。
货品数量：数字，系统根据操作员入库的药品信息自动生成。
合计金额：数字，系统根据操作员入库的药品信息自动生成。
验收结论：根据实际情况填写。
操作人员：为登录者的名字，系统自动生成。
退货原因：退货的理由，此项可填可不填。
药品采购输入项：
采购单号：以“PB”字符串为前缀，加上药品的入库日期，再以3为数字作后缀。此项系统自动生成。
采购时间：以当前采购时间为准，系统自动生成。
供应商：在下拉列表中选中相应的供应商名称，此项必须填写。
药品名称：在下拉列表中选中相应的药品名称，此项必须填写。
数量：需要药品的实际数量，此项必须填写。
药品名：药品的中文全称，在数据库中一般采用字符串类型。此项不可以省略。
规格：药品的单位重量等信息，详见药品说明书，在数据库中一般采用字符串类型。此项可以省略。
单位：药品生产企业的中文全称，详见药品说明书，在数据库中一般采用字符串类型。此项不可以省略。
保质期：本药品的保质期，方便后期库存管理。此项不可以省略。
进货价：由供应处取得药品的价格，方便后期财务计算，在数据库中一般采用浮点类型。此项不可以省略。
零售价：零售时的药品的价格，方便后期财务计算，在数据库中一般采用浮点类型。此项不可以省略。
货品数量：数字，系统根据操作员入库的药品信息自动生成。
合计金额：数字，系统根据操作员入库的药品信息自动生成。
验收结论：根据实际情况填写，此项必须填写。
操作人员：为登录者的名字，系统自动生成。
药品销售输入项：
销售单号：以“SB”字符串为前缀，加上销售单的销售日期，再以3位数字作后缀。
销售时间：以当前销售时间为准，系统自动生成。
供应商：在下拉列表中选中相应的供应商名称，此项必须填写。
药品名称：在下拉列表中选中相应的药品名称，此项必须填写。
客户名称：在下拉列表中选中相应的客户名称，此项必须填写。
销售数量：当前销售的数量，此项必须填写。
合计金额：数字，系统根据操作员入库的药品信息自动生成。
验证结论：根据实际情况填写，此项必须填写。
操作人员：为登录者的名字，系统自动生成。
已付金额：数字，根据付款金额的实际情况填写，此项必须填写。
销售退货输入项：
退货单号：由“RB”+日期的八位+三位数字，其中这三位数字由系统自动生成，从“000”开始。
退货时间：以当前的退货时间为准，系统自动生成。
经手人：字符串、汉字均承认，此项是进行此操作的人员的名字或代号，此项必须填写。
销售单号：在列表中选中要查询的采购单号，此项必须填写。
供应商：在下拉列表中选中相应的供应商名称，此项必须填写。
药品名称：在下拉列表中选中相应的药品名称，此项必须填写。
客户名称：在下拉列表中选中相应的客户名称，此项必须填写。
退货数量：数字，填入的数字不得大于库存中此药品的数量，此项必须填写。
合计金额：数字，系统根据操作员入库的药品信息自动生成。
验收结论：根据实际情况填写，此项必须填写。
操作人员：为登录者的名字，系统自动生成。
退货原因：退货的理由，此项可填可不填。
基本信息输入项：
药品名称：在下拉列表中选中相应的药品名称。
商家名称：在下拉列表中选中相应的商家名称。
商家地址：在下拉列表中选中相应的商家地址。
客户名称：在下拉列表中选中相应的客户名称。
客户地址：在下拉列表中选中相应的客户地址。
检索：输入相应的信息进行检索。
显示方式：在列表中选中相应的显示方式。
入库明细输入项：
供应商名称：在下拉列表中选中相应的供应商名称。
供应药品：在下拉列表中选中相应的药品名称。
检索：输入供应商名称、药品名称和编号，采购单号等信息的关键字进行检索。
入库时间（起始时间）：在时间选择框中选择起始时间。
显示方式：在列表中选中相应的显示方式。
入库退货输入项：
供应商名称：在列表中选中相应的供应商名称。
退货药品：在下拉列表中选中相应的药品名称。
索引：输入供应商名称、药品名称，退货单号信息的关键字进行检索。
退货时间（起始时间）：在时间选择框中选择起始时间。
显示方式：在列表中选中相应的显示方式。
销售退货输入项：
客户名称：在下拉列表中选中相应的客户名称。
退货药品：在下拉列表中选中相应的药品名称。
检索：输入客户名称、销售药品名称和退货单号，经手人等信息的关键字进行检索。
退货时间（起始时间）：在时间选择框中选择起始时间。
显示方式：在下拉列表中选中相应的显示方式。
系统管理输入项：
密码：数字和英文字母的组合，此项必须填写。
4.3.2 输出项
基本信息输出项：
“药品情况”用于维护(增加、修改、删除、查询)药店药品的基本信息，内容包括药品编码、药品名、规格、单位、保质期、进货价、零售价等。
“客户情况” 用于登记客户的基本信息，内容包括客户编号、客户名称、地址、邮编、电话等。
“供货商情况” 用于登记药品供货商的基本信息，内容包括供货商号、供应商名称、地址、邮编、电话等。
用户管理输出项：
在表中输出相应信息，包括：用户ID、用户名、密码、权限。
药品采购输出项：
在表中输出药品相关信息，包括：药品编号、药品名称、供应商、生产日期、单位、单价、规格、采购数量、金额。
采购退货输出项：
在表中输出采购的相关信息，包括：采购单号、药品编号、药品名称、供应商、生产日期、单价、单位、规格、退货原因、退货数量、金额。
药品销售输出项：
在表中输出销售的相关信息，包括：药品编号、药品名称、供应商、生产日期、客户、单位、单价、规格、销售数量、金额。
销售退货输出项：
在表中输出相应信息，包括：销售单号、药品编号、药品名称、供应商、生产日期、客户、单位、单价、规格、退货原因、退货数量、金额。
药品查询输出项：
在表中输出相应信息，包括药品编号、药品名称、规格、单位、保质期、进货价格、零售价格。
供应商查询输出项：
在表中输出相应信息，包括供应商编号、供应商名称、地址、邮政编码、联系电话。
入库明细输出项：
在表中输出相应信息，包括：采购单号、药品编号、药品名称、供应商名称、生产日期、单位、单价、规格、采购数量、金额。
采购退货输出项：
在表中输出相应信息，包括：采购退货单号、采购单号、供应商名称、药品名称、生产日期、采购退货时间、操作员、药品单价、退货数量、退货金额、品种数量、合计金额、退货原因。
销售明细输出项：
在表中输出相应信息，包括：销售单号、药品编号、药品名称、供应商名称、生产日期、客户名称、单价、规格、销售数量、金额。
销售退货输出项：
在表中输出相应信息，包括：销售退货单号、销售单号、客户名称、药品名称、供应商名称、生产日期、销售退货时间、操作员、药品单价、退货数量、退货金额、合计金额、退货原因。











第5章 编码实现
5.1 项目包名约定
表20包名约定
包名	说明
com.RestaurantManagementSystem.action.daily	日常信息管理Action
com.RestaurantManagementSystem.action.finance	财务信息管理Action
com.RestaurantManagementSystem.action.system	系统信息管理Action
com.RestaurantManagementSystem.model	系统实体对象类
com.RestaurantManagementSystem.entity	系统业务对象类
com.RestaurantManagementSystem.Dao	系统数据存储接口
com.RestaurantManagementSystem.Dao.impl	系统数据存储实现类
com.RestaurantManagementSystem.filter	系统安全过滤器类
com.RestaurantManagementSystem.Service	系统服务接口
com.RestaurantManagementSystem.Service.impl	系统服务实现类
com.RestaurantManagementSystem.util	系统级工具类

5.2 重要功能配置文件一览以及说明
表21重要功能配置文件说明
文件名	说明
Web.xml	Web工程核心配置文件，包含各个框架的
的过滤器，重点是他们的配置顺序，对工程有很大的影响
Beans.xml	Spring框架核心配置文件，其中包括要提前注入的Bean的定义，供应用程序使用
Log4j.properties	系统日志配置，包括hibernate的日志管理，和struts的日志管理
Struts.xml	Struts2核心配置文件，包括子配置文件的引入，和annotation的读入、全局常量的配置
SystemUtil.js	本系统页面逻辑和效果的是由Jquery实现的，此文件是本系统调用的核心,有很多重要方法























第6章 测试计划及实施
6.1 测试目的
分别对界面控件和系统功能进行测试，用表格的形式列出每一项测试的内容，并指明实际的测试与预期的效果的差别，说明这种差别的原因。其中测试内容包括：
1.登录及主界面测试
登录测试主要用于检测系统能否防止非授权用户使用系统。
2.系统信息管理测试
系统信息管理测试用于测试对于药品信息，供应商信息，员工信息的添加修改删除等操作是否可以正常进行。
3.采购管理测试 
采购管理测试用于测试各系统功能如采购单管理、采购单审批、采购单到货验收、采购单到货验收审批是否可以正常工作。
4.库存管理测试 
库存管理测试用于测试出库管理模块、入库管理模块、仓库管理、采购退货功能是否可以正常工作。
5.财务管理测试 
财务管理测试用于测试账单管理、采购单付款管理各项操作是否有效。
6.2 测试人员
测试负责人：杨义 ；
参与测试的人员：杨义、冯椿贵；
6.3 测试结果
1.登录及主界面测试















图19 系统登录

表22登录及主界面测试
步骤	操作描述	输入	期待输出	实际输出	说明
1	用户名或密码为空	输入不完整的信息。登录。	弹出警告对话框，提示输入的信息不完整	登录失败	测试成功
2	输入错误的用户名或密码	按要求输入。登录。	弹出提示对话框，提示用户名或密码错误	登录失败	测试成功
3	输入正确的用户名和密码	按要求输入。登录。		成功登录	测试成功
经测试，类似此模块可以正常工作，可以交付使用。
2.系统信息管理测试
（1）	药品管理






图20 药品添加页

表23药品添加测试
步骤	操作描述	输入	期待输出	实际输出	说明
1	不选药品	输入不完整的信息。登录。	弹出警告对话框，提示请选择药品信息	登录失败	测试成功
2	不输入售价或仓库编号	输入不完整的信息。登录。	错误信息提示请输入售价或请选择仓库号	登录失败	测试成功
3	输入错误的药品售价	没有按要求输入。登录。	错误信息提示，请输入正确格式	登录失败	测试成功
4
	输入正确的售价和仓库编号	按要求输入。登陆。	无提示或错误信息	登录成功	测试成功
经测试，类似此模块可以正常工作，可以交付使用。







图21申请采购页

表24药品生成采购单测试
步骤	操作描述	输入	期待输出	实际输出	说明
1	不选药品	输入不完整的信息。生成采购单。	弹出警告对话框，提示请选择药品	添加采购单失败失败	测试成功
2	选择一个或多个药品	按要求输入。生成采购单。	无提示或错误信息	添加采购单成功	测试成功
经测试，类似此模块可以正常工作，可以交付使用。
（2）	员工修改





图22员工修改页



表25员工修改测试
步骤	操作描述	输入	期待输出	实际输出	说明
1	删除原有内容	输入不完整的信息。登录。	错误信息提示请输入姓名等信息	修改失败	测试成功
2	不选择权限	输入不完整的信息。登录。	错误信息提示请分配权限	修改失败	测试成功
3	输入错误的联系电话格式	没有按要求输入。登录。	错误信息提示，请正确填写手机号码	修改失败	测试成功
4
	修改年龄信息	按要求输入。登陆。	无提示或错误信息	修改成功	测试成功
经测试，类似此模块可以正常工作，可以交付使用。
（3）	采购管理




图23采购单明细添加页

表26采购单明细添加测试
步骤	操作描述	输入	期待输出	实际输出	说明
1	不添加药品项	输入不完整的信息。添加。	弹出警告对话框，请选择药品	添加失败	测试成功
2	输入错误的药品数量或格式	不按要求输入。添加。	弹出提示框，提示请填写采购数量或正确的格式	添加失败	测试成功
3	不选择仓库编号	不按要求输入。登录。	弹出提示框，提示请选择仓库编号	添加失败	测试成功
4	按规定输入	正常输入	无错误信息弹出	添加成功	测试成功
经测试，类似此模块可以正常工作，可以交付使用。
6.4 测试总结
根据上面的测试和测试结果，本软件可以处理整个业务流程中的各项业务，能够稳定正确的运行，对相关的单据和统计进行相应的处理，达到管理各个部门的作用。系统的界面风格比较单一，页面美观方面还有很多可以该进的地方。系统可以继续完善其功能，在界面美工方面也可以继续改进。该软件基本达到预定目标，已经可以交付使用。









第7章 总结与展望



























致 谢



























参考文献
[1] 梁建武，邹锋。JSP程序设计实用教程[M]。中国水利水电出版社,2007年05月。
[2] 赛奎春。JSP信息系统开发事例[M]。机械工业出版社，2006年05月。
[3] 李建刚，秦兴桥，郑雨贝。JSP网络编程技术与实践[M]。清华大学出版社,2008年06月。
[4] 刘慧宁，那盟。JAVA程序设计[M]。机械工业出版社，2006年01月。
[5] 王能斌，王洌，王泓。Web数据的管理和交换[M]。科学出版社,2006年05月。
[6] David M Geary.Graphic Java 2 Mastering the JFC Volume 2:Swing (3rd Edition)[M]。Prentice Hall/Pearson,2000。
[7] Joshua Marinacci,Chris Adamson.SWING HACKS[M]。Oreilly,2007。
[8] James Elliott.Java Swing(Second Edition)[M]。O’Reilly。
[9] 徐红霞，李攀。MVC模式在Web开发中的应用[J]。科技信息，2009年12期。
[10] 陈旭东，刘迪仁编著.JSP 2.0应用教程，清华大学出版社*北京交通大学出版社，2008年7月。




